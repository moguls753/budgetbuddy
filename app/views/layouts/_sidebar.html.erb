<aside class="flex flex-col w-64 h-screen px-4 py-8 overflow-y-auto bg-white border-r dark:bg-base-100 dark:border-gray-700">
  <a href="/" class="flex items-center justify-center mb-6 text-secondary-content">
    <i class="fas fa-piggy-bank text-2xl"></i>
    <span class="ml-2 text-xl font-bold">BudgetBuddy</span>
  </a>

  <div class="flex flex-col justify-between flex-1 mt-6">
    <nav class="space-y-4">
      <a href="/" class="flex items-center px-4 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
          <path d="M3 9L12 2L21 9V20C21 21.1046 20.1046 22 19 22H5C3.89543 22 3 21.1046 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="mx-4 font-medium">Home</span>
      </a>

      <% @accounts.each do |account| %>
        <div class="space-y-1">
          <button
            class="flex items-center justify-between w-full px-4 py-2 text-left transition-colors duration-300 transform rounded-md hover:bg-gray-100 dark:hover:bg-gray-800"
            onclick="this.nextElementSibling.classList.toggle('hidden')"
          >
            <span class="font-medium"><%= account.name.capitalize %></span>
            <svg class="w-4 h-4 transform transition-transform" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <ul class="ml-6 mt-1 space-y-1 hidden">
            <li>
              <a href="<%= account_path(account) %>" class="block px-4 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">
                Overview
              </a>
            </li>
            <li>
              <a href="#" class="block px-4 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">
                Forecast
              </a>
            </li>
            <li>
              <a href="#" class="block px-4 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">
                Settings
              </a>
            </li>
          </ul>
        </div>
      <% end %>

      <!-- Divider -->
      <hr class="my-6 border-gray-200 dark:border-gray-600"/>

      <!-- Profile link -->
      <a href="#" class="flex items-center px-4 py-2 transition-colors duration-300 transform rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
          <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M5 21V19C5 17.8954 5.89543 17 7 17H17C18.1046 17 19 17.8954 19 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="mx-4 font-medium">My Profile</span>
      </a>

      <!-- Global Settings link -->
      <a href="#" class="flex items-center px-4 py-2 mt-2 transition-colors duration-300 transform rounded-md hover:bg-gray-100 dark:hover:bg-gray-800">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none">
          <path d="M12 15.5C13.933 15.5 15.5 13.933 15.5 12C15.5 10.067 13.933 8.5 12 8.5C10.067 8.5 8.5 10.067 8.5 12C8.5 13.933 10.067 15.5 12 15.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M19.4 15A1.65 1.65 0 0 0 21 13.6V10.4A1.65 1.65 0 0 0 19.4 9L17.8 7.2A1.65 1.65 0 0 0 16.4 5.8L13.8 5.4A1.65 1.65 0 0 0 12 4A1.65 1.65 0 0 0 10.2 5.4L7.6 5.8A1.65 1.65 0 0 0 6.2 7.2L4.6 9A1.65 1.65 0 0 0 3 10.4V13.6A1.65 1.65 0 0 0 4.6 15L6.2 16.8A1.65 1.65 0 0 0 7.6 18.2L10.2 18.6A1.65 1.65 0 0 0 12 20A1.65 1.65 0 0 0 13.8 18.6L16.4 18.2A1.65 1.65 0 0 0 17.8 16.8L19.4 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="mx-4 font-medium">Settings</span>
      </a>
    </nav>

    <!-- User avatar / name at bottom -->
    <a href="#" class="flex items-center px-4 -mx-2 mt-8">
      <img
        class="object-cover mx-2 rounded-full h-9 w-9"
        src="https://dummyimage.com/36x36/cccccc/ffffff.png"
        alt="avatar"
      />
      <span class="mx-2 font-small"><%= Current.user.first_name %></span>
    </a>
  </div>
</aside>
